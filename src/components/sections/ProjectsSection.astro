---
import Icon from 'astro-icon';
import SectionLayout from '../../layouts/SectionLayout.astro';

import { projects } from '../../data/site.json';
---

<SectionLayout heading="Projects" id="projects" text="Some things I've built">
  <ul
    class="mt-8 flex flex-wrap justify-center gap-10 xs:mt-16 lg:mt-24 lg:block"
  >
    {
      projects.map((project, i) => (
        <li
          class={`${i !== 0 && 'lg:mt-28'} flex ${
            i % 2 === 0 ? 'lg:flex-row' : 'lg:flex-row-reverse lg:text-end'
          } bg-dark-secondary shadow-b max-w-xs flex-col-reverse justify-end rounded-b-md lg:max-w-none lg:items-center lg:justify-start lg:rounded-none lg:bg-transparent lg:shadow-none`}
        >
          <div class="1.5xl:basis-5/12 z-10 px-6 py-5 lg:basis-3/12 lg:p-0 xl:basis-4/12">
            <h2 class="mb-0.5 text-xs font-medium">PROJECT #{i + 1}</h2>
            <h1 class="text-lg font-semibold uppercase">{project.title}</h1>
            <div
              class={`${
                i % 2 === 0
                  ? '1.5xl:-mr-24 lg:-mr-64 xl:-mr-60 2xl:-mr-20'
                  : '1.5xl:-ml-24 lg:-ml-64 xl:-ml-60 2xl:-ml-20'
              }`}
            >
              <p
                class={`${
                  i % 2 === 0 ? 'lg:shadow-bl ' : 'lg:shadow-br'
                } lg:bg-dark-secondary py-4 text-[15px] lg:my-5 lg:rounded lg:px-6 2xl:text-base`}
              >
                {project.description}
              </p>
              <ul
                class={`flex flex-wrap ${
                  i % 2 !== 0 && 'lg:justify-end'
                } gap-x-2.5 gap-y-0.5 text-sm lg:gap-4`}
              >
                {project.languages.map(language => (
                  <li class="lg:bg-dark-secondary lg:shadow-b lg:rounded-full lg:px-4 lg:py-2">
                    {language}
                  </li>
                ))}
              </ul>
            </div>
            <div
              class={`${i % 2 !== 0 && 'lg:mr-2 lg:justify-end'} mt-3 flex gap-4
              lg:mt-8 lg:ml-2`}
            >
              <a
                href={project.githubLink}
                target="_blank"
                aria-label="View github repo"
              >
                <Icon name="iconoir:github" class="h-6" />
              </a>
              <a
                href={project.websiteLink}
                target="_blank"
                aria-label="View project live"
              >
                <Icon name="heroicons-outline:external-link" class="h-6" />
              </a>
            </div>
          </div>
          <div class="1.5xl:basis-7/12 lg:basis-9/12 xl:basis-8/12">
            <a href={project.websiteLink} target="_blank">
              <img
                src={project.imageLink}
                class={`${
                  i % 2 === 0 ? 'lg:shadow-br' : 'lg:shadow-bl'
                } h-full w-full rounded-t-md lg:rounded lg:brightness-90 lg:transition-all lg:duration-300 lg:hover:scale-105 lg:hover:brightness-100`}
                alt={project.title + ' Project'}
              />
            </a>
          </div>
        </li>
      ))
    }
  </ul>
</SectionLayout>
